file(GLOB RUNTIME_REG_SRC ${CMAKE_CURRENT_SOURCE_DIR}/*.cc)
if(USE_GLOG)
    set(RUNTIME_REG_SRC ${RUNTIME_REG_SRC} ${CORE_DIR}/utils/log_adapter.cc)
else()
    set(RUNTIME_REG_SRC ${RUNTIME_REG_SRC} ${CMAKE_CURRENT_SOURCE_DIR}/../common/log_adapter.cc)
endif()
set_property(SOURCE ${RUNTIME_REG_SRC} PROPERTY COMPILE_DEFINITIONS SUBMODULE_ID=mindspore::SubModuleId::SM_LITE)
add_library(mslite_kernel_reg SHARED ${RUNTIME_REG_SRC})
if(PLATFORM_ARM32 OR PLATFORM_ARM64)
    target_link_libraries(mslite_kernel_reg log)
endif()
add_dependencies(mslite_kernel_reg fbs_src)